<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>如何提高代码可读性 - Adams</title><meta name=description content="Simple is beautiful"><meta name=keywords content="[博客 Adams Hugo]"><link href=/css/style.css type=text/css rel=stylesheet><link href=/css/caomei.css type=text/css rel=stylesheet><link href=/css/pjax-fix.css type=text/css rel=stylesheet></head><body><script>document.body.className=(localStorage.adams_color_style||"")+" "+(localStorage.adams_font_style||"")</script><header class=header><section class=container><hgroup itemscope itemtype=https://schema.org/WPHeader><h1 class=fullname>如何提高代码可读性</h1></hgroup><nav class=social><ul><li><a href=/index.xml title><i class=czs-rss></i></a></li><li><a href=https://github.com/jkjoy title target=_blank rel=noopener><i class=czs-github-logo></i></a></li><li><a href=https://jiong.us/@sun title target=_blank rel=noopener><i class=czs-moments></i></a></li><li><a href=https://t.me/imsunpw title target=_blank rel=noopener><i class=czs-telegram></i></a></li></ul></nav><nav class=header_nav><ul class=menu><li><i></i>
<a href=/>首页</a></li><li><i></i>
<a href=/archives/>归档</a></li><li><i></i>
<a href=/tags/>标签</a></li><li><i></i>
<a href=/links/>友链</a></li><li><i></i>
<a href=/pages/about/>关于</a></li></ul></nav></section><section class=infos><div class=container><h2 class=fixed-title></h2><div class=fields><span><i class=czs-time-l></i> <time datetime=2023-12-20T09:15:00+08:00>2023-12-20</time></span> /
<span><i class=czs-talk-l></i>
<span class=twikoo-comment-count data-path=/posts/code-readability/>0</span>评</span></div><div class=socials><div class=share><a href=javascript:void(0); data-url=https://example.com/posts/code-readability/><i class="czs-scan-l s"></i><i class="czs-qrcode-l h"></i> 码</a><div class=qrcode><div id=qrcode-container></div><i>扫码分享</i></div></div></div></div></section></header><section class="container main-load"><article class=post_article itemscope itemtype=https://schema.org/Article><p>可读性是衡量代码质量的重要标准之一。好的代码应该易于理解和维护。</p><h2 id=命名规范>命名规范</h2><h3 id=使用有意义的变量名>使用有意义的变量名</h3><p>❌ 不好：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>d</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>users</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>u</span> <span class=p>=&gt;</span> <span class=nx>u</span><span class=p>.</span><span class=nx>a</span><span class=p>);</span>
</span></span></code></pre></div><p>✅ 好：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>currentDate</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>activeUsers</span> <span class=o>=</span> <span class=nx>users</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>user</span> <span class=p>=&gt;</span> <span class=nx>user</span><span class=p>.</span><span class=nx>isActive</span><span class=p>);</span>
</span></span></code></pre></div><h2 id=函数设计>函数设计</h2><h3 id=单一职责原则>单一职责原则</h3><p>每个函数只做一件事：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 不好 - 函数做了太多事情
</span></span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>processUser</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>validateUser</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>saveToDatabase</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>sendEmail</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>updateCache</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 好 - 分解为小函数
</span></span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>registerUser</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>isValidUser</span><span class=p>(</span><span class=nx>user</span><span class=p>))</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>saveUser</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>notifyUser</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>refreshUserCache</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=注释>注释</h2><h3 id=写有用的注释>写有用的注释</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 不好 - 注释重复代码
</span></span></span><span class=line><span class=cl><span class=c1>// 设置 x 为 5
</span></span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 好 - 解释为什么
</span></span></span><span class=line><span class=cl><span class=c1>// 根据A/B测试结果，5秒是最佳超时时间
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>OPTIMAL_TIMEOUT</span> <span class=o>=</span> <span class=mi>5000</span><span class=p>;</span>
</span></span></code></pre></div><h2 id=代码格式化>代码格式化</h2><h3 id=保持一致的缩进和空格>保持一致的缩进和空格</h3><p>使用工具如 Prettier 自动格式化代码。</p><h2 id=避免深层嵌套>避免深层嵌套</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 不好
</span></span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>user</span><span class=p>.</span><span class=nx>isActive</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>user</span><span class=p>.</span><span class=nx>hasPaid</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// do something
</span></span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 好 - 提前返回
</span></span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>user</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>user</span><span class=p>.</span><span class=nx>isActive</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>user</span><span class=p>.</span><span class=nx>hasPaid</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// do something
</span></span></span></code></pre></div><h2 id=使用现代语法>使用现代语法</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 不好
</span></span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>items</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>data</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>items</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>data</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 好
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>items</span> <span class=o>=</span> <span class=nx>data</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>item</span> <span class=p>=&gt;</span> <span class=nx>item</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
</span></span></code></pre></div><h2 id=错误处理>错误处理</h2><p>明确的错误处理：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>fetchUserData</span><span class=p>(</span><span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>api</span><span class=p>.</span><span class=nx>getUser</span><span class=p>(</span><span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>logger</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Failed to fetch user&#39;</span><span class=p>,</span> <span class=p>{</span><span class=nx>userId</span><span class=p>,</span> <span class=nx>error</span><span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=k>new</span> <span class=nx>UserFetchError</span><span class=p>(</span><span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>记住：代码是写给人看的，顺便让计算机执行！</p></article><ul class=tags><li><a href=/tags/%E7%BC%96%E7%A8%8B>编程</a></li><li><a href=/tags/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5>最佳实践</a></li><li><a href=/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83>代码规范</a></li></ul><nav class=nearbypost><div class=alignleft><a href=/posts/git-commands/>Git 常用命令速查</a></div><div class=alignright><a href=/posts/es6-features/>JavaScript ES6+ 新特性概览</a></div></nav></section><section class=comments><div class=container data-no-instant><div id=comments class=comments-area></div></div></section><script>function initComments(){if(typeof twikoo!="undefined")twikoo.init({envId:"https://t.memos.ee",el:"#comments",path:window.location.pathname,lang:"zh-CN"});else{const e=document.createElement("script");e.src="https://cdn.staticfile.org/twikoo/1.6.16/twikoo.all.min.js",e.onload=function(){twikoo.init({envId:"https://t.memos.ee",el:"#comments",path:window.location.pathname,lang:"zh-CN"})},document.body.appendChild(e)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initComments):initComments()</script><footer class=footer><section class=container><nav class=menu><ul><li><i class=czs-message></i><a href=mailto:s@zxd.im>Mail</a></li><li><i class=czs-rss></i><a href=/index.xml>RSS</a></li></ul></nav><div style=display:flex;justify-content:space-between><div class=left><span>&copy; 2026 <a href=https://example.com/>Adams</a></span></div><div class=right><span>Theme by <a href=https://biji.io target=_blank rel=noopener>Adams</a></span></div></div></section></footer><div class="setting_tool iconfont"><a class=back2top style=display:none><i class=czs-arrow-up-l></i></a>
<a class=home href=https://example.com/><i class=czs-home-l></i></a>
<a class=socolor><i class=czs-clothes-l></i></a><div class=c><ul><li class="color undefined">默认</li><li class="color sepia">护眼</li><li class="color night">夜晚</li><li class=hr></li><li class="font serif">Serif</li><li class="font sans">Sans</li></ul></div></div><script src=/js/jquery.min.js data-no-instant></script><script src=/js/qrcode.min.js data-no-instant></script><script src=/js/script.js data-no-instant></script><script src=/js/prettify.js data-no-instant></script><script src=/js/instantclick.min.js data-no-instant></script><script data-no-instant>(function(e){function t(){var e=localStorage.adams_color_style||"",t=localStorage.adams_font_style||"";document.body.className=(e+" "+t).trim()}typeof InstantClick!="undefined"?(InstantClick.on("receive",function(){t()}),InstantClick.on("change",function(n){t(),e(".setting_tool").removeClass("colors"),e.adamsOverload(),n===!1&&(typeof MathJax!="undefined"&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),typeof prettyPrint!="undefined"&&prettyPrint(),typeof initComments!="undefined"&&initComments()),e(".placard").length&&fetch("https://v1.hitokoto.cn?encode=text").then(e=>e.text()).then(t=>e(".placard").text(t))}),InstantClick.init("mousedown")):(console.warn("InstantClick failed to load, falling back to normal mode"),e.adamsOverload())})(jQuery)</script><script data-no-instant>(function(){var t=null;function e(){var e,n,s=document.querySelector(".infos .share a[data-url]");if(!s)return;if(n=s.getAttribute("data-url"),e=document.getElementById("qrcode-container"),!e||!n)return;e.innerHTML="",typeof QRCode!="undefined"&&(t=new QRCode(e,{text:n,width:130,height:130,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e(),typeof InstantClick!="undefined"&&InstantClick.on("change",function(){t=null,e()})})()</script><script data-no-instant>(function(){function e(){var e,t,n=document.querySelectorAll(".twikoo-comment-count");if(n.length===0)return;if(t=[],e={},n.forEach(function(n){var s=n.getAttribute("data-path");s&&!e[s]&&(t.push(s),e[s]=[]),s&&e[s].push(n)}),t.length===0)return;function o(){if(typeof twikoo=="undefined"){var e=document.createElement("script");e.src="https://cdn.staticfile.org/twikoo/1.6.16/twikoo.all.min.js",e.onload=function(){s()},document.body.appendChild(e)}else s()}function s(){twikoo.getCommentsCount({envId:"https://t.memos.ee",urls:t,includeReply:!1}).then(function(t){t.forEach(function(t){var n=t.url,s=t.count||0;e[n]&&e[n].forEach(function(e){e.textContent=s})})}).catch(function(){Object.keys(e).forEach(function(t){e[t].forEach(function(e){e.textContent="0"})})})}o()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e(),typeof InstantClick!="undefined"&&InstantClick.on("change",function(){e()})})()</script></body></html>